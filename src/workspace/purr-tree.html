<link rel="import" href="purr-tree-item.html">

<template id="purr-tree">
  <style>
    :host {
      display: flex;
      width: 100%;
      height: 100%;
      flex-direction: column;
    }
  </style>
  <slot></slot>
</template>

<script>
  Backed(class PurrTree extends HTMLElement {
    ready() {
      this._onClick = this._onClick.bind(this);
      this.addEventListener('click', this._onClick);
    }
    add({ name, uid }) {
      const item = document.createElement('purr-tree-item');
      item.innerHTML = name;
      item.dataset.uid = uid;
      this.appendChild(item);
    }

    _onClick(event) {
      event.preventDefault();
      this.fireEvent('element-focus', {
        name: event.path[0].name,
        uid: event.path[0].dataset.uid
      });
    }
  });
</script>
